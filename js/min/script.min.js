let setTabSize=t=>{document.querySelectorAll(".textarea div pre code").forEach(e=>{e.style.tabSize=""+(0!=t?t:4),e.style.MozTabSize=""+(0!=t?t:4)}),tabSize=t};const hashValue=e=>crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(e)).then(e=>{var t=[],o=new DataView(e);for(let e=0;e<o.byteLength;e+=4)t.push(("00000000"+o.getUint32(e).toString(16)).slice(-8));return t.join("")});let tabSize=4,tabRegex=/\t/g;const ThemeArr=["light","dark","funky","twilight","solarized","night","zll"];let THEME_={importTheme:e=>{var t=new FileReader;const r=document.querySelector("#terminal-main-history");t.readAsText(e.files[0],"UTF-8"),t.onload=e=>{let t=e.target.result,o="";try{for(var n in t=JSON.parse(t),document.body.removeAttribute("class"),document.body.classList.add(t.class),localStorage.setItem("theme",t.class),delete t.class,t)document.body.style.setProperty(n,t[n]);localStorage.setItem("customTheme",JSON.stringify(t))}catch(e){o="Error: Cannot parse JSON"}e=document.createElement("div");e.classList.add("terminal-output"),e.innerHTML=o,r.appendChild(e),terminal.scrollTop=terminal.scrollHeight},t.onerror=()=>{var e=document.createElement("div");e.classList.add("terminal-output"),e.innerHTML="Error: Cannot read file content",r.appendChild(e),terminal.scrollTop=terminal.scrollHeight}},exportTheme:()=>{var e,t={"--theme-bg-color":"","--theme-primary-color":"","--theme-secondary-color":"","--theme-color-muted":"","--theme-text-color":"","--theme-extra-color":"","--theme-border-color":"","--theme-caret-color":"","--theme-alert-color":"","--theme-cristal-color":"","--theme-footer-color":""};for(e in t)t[e]=document.body.style.getPropertyValue(e);t.class=document.body.classList[0],saveToFile("PasteCodeTheme.json",JSON.stringify(t))}},TMP_ID=0;function Out(e){document.querySelector("#"+TMP_ID).innerHTML+=e+"<br>"}function saveToFile(e,t){var o;"saveAs"in window?(o=new Blob([t],{type:"text/plain;charset=utf-8"}),saveAs(o,e)):((o=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))}window.addEventListener("load",()=>{var l=new LZMA("./js/src/lzma_worker.js");const u={url:document.location,base64:"undefined",_get:{},localStorage:{fileMemory:"paste-code",autoExecuteFlag:"paste-code-auto-execute",projectList:"paste-code-list"}};let s={};const m={parent:document.querySelector(".textarea"),max:4,min:1,label:"Window",current:0,focus:0,visible:0,windows:[],codeWindow:[],windows_value:[],lineActive:[]};let p=e=>{document.querySelector(".alert-modal").classList.add("active"),document.querySelector(".alert-modal-text").textContent=e,setTimeout(function(){document.querySelector(".alert-modal").classList.remove("active")},5e3)},d=(e,t,o,n)=>{let r=document.querySelector(".input-modal"),l=(r.querySelector(".modal-text").textContent=e,r.querySelector("#confirm-modal").textContent=`[${t}]`,r.classList.add("show"),r.querySelector(".stdin input")),a=(l.focus(),()=>{n(l.value)&&(o(l.value),r.querySelector(".stdin input").value="",r.classList.remove("show"),window.onkeydown=null)});r.querySelector("#confirm-modal").onclick=a,window.onkeydown=e=>{"Enter"!=e.key&&13!=e.keyCode&&"Enter"!=e.code&&13!=e.which||a()}};const h=e=>{var e=e.value.split("\n")[0];return!!e.match(/[\!|\?]/)&&((e=(e=e.split(/[\!|\?]/))[e.length-1].toLowerCase().trim()).includes("--\x3e")?e.replace("--\x3e","").trim():e)},w=e=>{var t=m.windows.indexOf(e),o=m.codeWindow[t],n=e.parentElement.parentElement,r=e.value.split("\n"),l=h(e);l?(o.setAttribute("class","language-"+l),n.querySelector(".title-w-bar").innerText=`window: ${t} - lang: `+l):n.querySelector(".title-w-bar").innerText="window: "+t,tabRegex.test(e.value)&&(e.value=e.value.replaceAll(tabRegex," ".repeat(tabSize))),o.innerHTML=e.value.replaceAll(new RegExp("&","g"),"&amp;").replaceAll(new RegExp("<","g"),"&lt;"),Prism.highlightElement(o),document.querySelector(".w-"+t).style.setProperty("--padd",100<=r.length?1e3<=r.length?1e4<=r.length?"55px":"45px":"35px":"25px"),e.parentElement.querySelector(".line-numbers-rows").innerHTML=Array(r.length).fill("<span></span>").join(""),e===document.activeElement&&g(e)},g=(e,t=-1)=>{var o=e.value.substring(0,e.selectionStart).split("\n").length,n=e.parentElement.querySelector(".line-numbers-rows");o+t<n.children.length&&!n.children[o+t].classList.contains("current")&&(v(e),n.children[o+t].classList.add("current"))},v=e=>{e=e.parentElement.querySelector(".line-numbers-rows");Array.from(e.children).forEach(e=>{e.classList.remove("current")})};function S(){var e;m.parent.classList.remove("odd-3"),m.parent.classList.remove("odd-4"),3==m.visible&&(3==m.current?m.parent.classList.add("odd-3"):(!(e=["none"==m.windows[2].parentElement.parentElement.style.display,"none"==m.windows[3].parentElement.parentElement.style.display])[0]&&e[1]&&m.parent.classList.add("odd-3"),m.parent.classList.add("odd-4")))}const b=()=>{if(m.current<m.max){m.current++;let n=m.current-1;const i=document.createElement("div");i.addEventListener("click",()=>{m.focus=n});var e=document.createElement("div"),t=(e.classList.add("top-w-bar"),document.createElement("div")),o=(t.classList.add("title-w-bar"),t.innerText="window: "+n,document.createElement("div")),r=(o.classList.add("close-w-bar"),document.createElement("a")),l=(r.classList.add("close-w"),r.innerText="[close]",r.addEventListener("click",()=>{if(1<m.visible){document.querySelector(".hidden-tab").classList.add("demo"),setTimeout(()=>document.querySelector(".hidden-tab").classList.remove("demo"),1e3),i.style.display="none",m.visible--,S();let t=document.createElement("a");t.onclick=e=>{i.style.display="block",t.remove(),m.focus=n,m.visible++,S()};let o;try{o=i.querySelector("pre").classList[0].replace("language-","")}catch(e){o=""}t.innerHTML=`[${0<o.length&&"none"!=o?o.toUpperCase()+"-"+n:n}]`,document.querySelector(".hidden-tab").appendChild(t)}}),document.createElement("div"));l.classList.add("code-group");const c=document.createElement("pre");c.setAttribute("aria-hidden","true");var a=document.createElement("code");const s=document.createElement("span"),d=(s.setAttribute("aria-hidden","true"),s.setAttribute("class","line-numbers-rows no-select"),s.innerHTML="<span></span>",document.createElement("textarea"));return d.setAttribute("class","textarea-main"),d.setAttribute("spellcheck","false"),d.setAttribute("outline","none"),d.setAttribute("autofill","false"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("autocomplete","off"),d.setAttribute("wrap","off"),d.setAttribute("aria-label","Paste Code"),d.setAttribute("tabindex","0"),d.addEventListener("input",()=>w(d)),d.addEventListener("mouseup",()=>g(d)),("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&d.addEventListener("touchend",()=>g(d)),d.addEventListener("scroll",()=>{c.scrollTo(d.scrollLeft,d.scrollTop),s.scrollTo(d.scrollLeft,d.scrollTop)}),d.addEventListener("keydown",e=>{var t,o=(e,t)=>{var o=d.selectionStart;d.value=d.value.substring(0,o)+e+d.value.substring(d.selectionEnd),d.selectionStart=d.selectionEnd=o+t,w(d)},n=("Tab"!=e.key&&9!=e.keyCode&&9!=e.which||(e.preventDefault(),d.selectionStart!=d.selectionEnd?(n=d.selectionStart,r=d.selectionEnd,t=d.value.substring(n,r),d.value=0==n?" ".repeat(tabSize)+t.replaceAll("\n","\n"+" ".repeat(tabSize))+d.value.substring(r):d.value.substring(0,n)+" ".repeat(tabSize)+t.replaceAll("\n","\n"+" ".repeat(tabSize))+d.value.substring(r),w(d),d.setSelectionRange(n,r+tabSize*(t.split("\n").length-1))):o(" ".repeat(tabSize),tabSize)),{"(":")","[":"]","{":"}",'"':'"',"'":"'","`":"`"}),r=(e.key in n&&o(n[e.key],0),(c.classList[0]??"").replace("language-","").toUpperCase());"<"!=e.key||"HTML"!=r&&"XML"!=r||o(">",0),"ArrowUp"!=e.key&&38!=e.keyCode&&38!=e.which||g(d,delay=-2),"ArrowDown"!=e.key&&40!=e.keyCode&&40!=e.which||g(d,delay=0),"Backspace"!=e.key&&8!=e.keyCode&&8!=e.which||(t=d.selectionStart,d.value.substring(t-tabSize,t)==" ".repeat(tabSize)&&(d.value=d.value.substring(0,t-tabSize+1)+d.value.substring(t),w(d),d.selectionStart=d.selectionEnd=t-tabSize+1)),(e.altKey&&"l"==e.key||e.altKey&&76==e.keyCode||e.altKey&&76==e.which)&&(e.preventDefault(),n=d.value.substring(0,d.selectionStart).lastIndexOf("\n")+1,r=d.value.substring(d.selectionEnd).indexOf("\n")+d.selectionEnd,r+=r==d.value.length-1?1:0,d.setSelectionRange(n,r)),e.ctrlKey&&"s"===e.key&&(e.preventDefault(),q("url",!0,e=>{try{localStorage.setItem(u.localStorage.fileMemory,e),p("Content saved successfully")}catch(e){p("Error saving")}}))}),d.addEventListener("keyup",e=>{"Enter"!=e.key&&13!=e.keyCode&&13!=e.which&&"ArrowUp"!=e.key&&38!=e.keyCode&&38!=e.which&&"ArrowDown"!=e.key&&40!=e.keyCode&&40!=e.which&&"ArrowLeft"!=e.key&&37!=e.keyCode&&37!=e.which&&"ArrowRight"!=e.key&&39!=e.keyCode&&39!=e.which||g(d)}),d.addEventListener("focusout",()=>{v(d)}),o.appendChild(r),e.appendChild(t),e.appendChild(o),c.appendChild(a),l.appendChild(s),l.appendChild(d),l.appendChild(c),i.appendChild(e),i.appendChild(l),m.parent.appendChild(i),m.windows.push(d),m.visible++,m.parent.classList.remove("odd-3"),m.parent.classList.remove("odd-4"),S(),2!=m.current&&4!=m.current||((r=document.createElement("div")).classList.add("LR"),r.classList.add("LR-1"),i.appendChild(r)),2!=m.current&&3!=m.current&&4!=m.current||((t=document.createElement("div")).classList.add("TB"),t.classList.add("TB-"+(m.current-2)),i.appendChild(t)),m.codeWindow.push(a),i.classList.add("w-"+(m.current-1)),!0}0<m.visible&&(document.querySelector(".hidden-tab").classList.add("demo"),setTimeout(()=>document.querySelector(".hidden-tab").classList.remove("demo"),1e3))},f=()=>{if(m.current>m.min&&m.visible>m.min){for(;;){if("none"!=m.windows[m.focus].parentElement.parentElement.style.display)break;0==m.focus?m.focus=m.current-1:m.focus--}const o=()=>{m.parent.removeChild(m.windows[m.focus].parentElement.parentElement),m.windows=m.windows.filter((e,t)=>t!=m.focus),m.codeWindow=m.codeWindow.filter((e,t)=>t!=m.focus),m.current--,m.visible--,S(),console.log(m.windows),m.windows.forEach((e,t)=>{e.parentElement.parentElement.classList.remove(...e.parentElement.parentElement.classList),e.parentElement.parentElement.classList.add("w-"+t)}),document.querySelector(".hidden-tab").classList.add("demo"),setTimeout(()=>document.querySelector(".hidden-tab").classList.remove("demo"),1e3)};let t=document.querySelector(".container-modal");t.querySelector(".modal-text").textContent="Are you sure you want to remove the window ["+m.focus+"]?",t.querySelector(".code").innerHTML="",t.querySelector(".code").appendChild(m.codeWindow[m.focus].parentElement.cloneNode(!0)),t.classList.add("show"),t.querySelector("#confirm-modal").onclick=o,window.onkeydown=e=>{"Enter"!=e.key&&13!=e.keyCode&&"Enter"!=e.code&&13!=e.which||(o(),t.classList.remove("show"),window.onkeydown=null)}}},L=()=>document.querySelector("body > footer").classList.remove("text-offer"),E=e=>{var t;return"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type?(t=(t=void 0===e.originalEvent?e:e.originalEvent).touches[0]||t.changedTouches[0],x=t.pageX,y=t.pageY):"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(x=e.clientX,y=e.clientY),{x:x,y:y}},k=(t,o,n=!1,r=null)=>{let l="y"===o;var e=E(t);let a,i,c,s=(c=n?(a=r,i=l?.9*window.innerHeight:.5*window.innerWidth,l?.1*window.innerHeight:.1*window.innerWidth):(a=l?document.querySelector("#terminal"):document.querySelector("#terminal-fast-option"),i=l?.8*window.innerHeight:.5*window.innerWidth,l?.2*window.innerHeight:.1*window.innerWidth),a.getBoundingClientRect()[l?"height":"width"]),d=e[o];e=e=>{["touchstart","touchmove","touchend","touchcancel"].includes(t.type)||e.preventDefault();e=E(e),document.body.classList.add(l?"row-resize":"col-resize"),document.body.classList.add("no-select"),e=s-(e[o]-d);e>c&&e<i&&(l?(document.documentElement||document.querySelector(":root")).style.setProperty("--termSize",e+"px"):n?r.style.width=e+"px":(document.documentElement||document.querySelector(":root")).style.setProperty("--termOption",e+"px"))};window.onmousemove=e,window.ontouchmove=e,window.onmouseup=()=>T(o,n),window.ontouchend=()=>T(o,n)},T=(e,t=!1)=>{e="y"===e;document.body.classList.remove(e?"row-resize":"col-resize"),document.body.classList.remove("no-select"),window.onmousemove=null,window.ontouchmove=null,window.onmouseup=null,window.ontouchend=null,t||localStorage.setItem(e?"terminalHeight":"terminalOptWidth",e?terminal.parentElement.parentElement.getBoundingClientRect().height:document.querySelector("#terminal-fast-option").getBoundingClientRect().width)},q=(o,n=!1,r)=>{m.windows.forEach((e,t)=>m.windows_value[t]=e.value),l.compress(JSON.stringify(m.windows_value),1,(t,e)=>{if(e)alert("Failed to compress data: "+e);else{let e=new FileReader;e.onload=function(){var t=e.result.substr(e.result.indexOf(",")+1);if(n)r(t);else{let e="https://"+u.url.host+u.url.pathname+"#"+t;"true"==localStorage.getItem(u.localStorage.autoExecuteFlag)&&(e+="?execute=true");t="markdown"===o?"[paste]("+e+")":e;navigator.clipboard.writeText(t),document.querySelector(".nav-text-offer input").value=t,document.querySelector("body > footer").classList.add("text-offer")}},e.readAsDataURL(new Blob([new Uint8Array(t)]))}})};let A;const o=()=>{window.addEventListener("keydown",e=>{((e.metaKey||e.ctrlKey||e.altKey)&&"t"==e.key||(e.metaKey||e.ctrlKey||e.altKey)&&84==e.keyCode||(e.metaKey||e.ctrlKey||e.altKey)&&84==e.which)&&(e.preventDefault(),A())});const e=e=>{ThemeArr.includes(e)||(e=ThemeArr[0]),document.body.classList.remove(...ThemeArr),document.body.classList.add(e),localStorage.setItem("theme",e)};document.querySelector(".invert-color").addEventListener("click",()=>{document.body.classList.contains("dark")?e("light"):e("dark")}),0==m.current&&b(),document.querySelector("#add-w").addEventListener("click",b),document.querySelector("#remove-w").addEventListener("click",f);document.querySelector(".add-new .add").addEventListener("click",()=>{d("Project name","add",r=>{q("url",!0,e=>{try{s[r]=e,localStorage.setItem(u.localStorage.projectList,JSON.stringify(s));var t=document.createElement("div"),o=document.createElement("a"),n=(o.innerText=r,o.classList.add("name"),o.onclick=()=>{localStorage.setItem(u.localStorage.fileMemory,e),document.location=document.location},document.createElement("a"));n.onclick=e=>{e.target.parentElement.remove(),delete s[r],localStorage.setItem(u.localStorage.projectList,JSON.stringify(s)),p(`Project "${r}"deleted`)},n.innerText="[delete]",t.append(o),t.append(n),document.querySelector("#library .window .list").append(t)}catch(e){p("Error saving")}})},e=>{return new RegExp("^[A-Za-z0-9_-]+$").test(e)?!(e in s&&(p("Project already exist"),1)):(p("Project name not allowed"),!1)})}),document.querySelectorAll(".generate-url").forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("data-type");q(e)})}),document.querySelector("a.cancel-url").addEventListener("click",L),document.querySelector("a.copy-url").addEventListener("click",()=>{document.querySelector(".nav-text-offer input").select(),document.execCommand("copy"),L()});const t=e=>{document.querySelector("."+e+"-modal").classList.remove("show"),window.onkeydown=null},n=(document.querySelector(".container-modal .bg-event").addEventListener("click",()=>t("container")),["confirm-modal","cancel-modal"].forEach(e=>document.querySelector(".container-modal #"+e).addEventListener("click",()=>t("container"))),document.querySelector(".input-modal .bg-event").addEventListener("click",()=>t("input")),["cancel-modal"].forEach(e=>document.querySelector(".input-modal #"+e).addEventListener("click",()=>t("input"))),A=(e="toggle")=>{switch(e){case"open":document.querySelector("#terminal").classList.add("open"),o.focus(),document.querySelector(".hidden-tab").classList.add("terminal-opened");break;case"close":document.querySelector("#terminal").classList.remove("open"),document.querySelector(".hidden-tab").classList.remove("terminal-opened");break;case"toggle":document.querySelector("#terminal").classList.toggle("open"),o.focus(),document.querySelector(".hidden-tab").classList.toggle("terminal-opened")}localStorage.setItem("terminal",!!document.querySelector("#terminal").classList.contains("open"))},(e=null)=>{i.historyPosition=0;var t=document.createElement("div");t.classList.add("terminal-input"),t.innerHTML=document.querySelector("#terminal-main-input").innerHTML,a.appendChild(t),t.removeChild(t.querySelector("button")),c.exec(e??r.innerText).then(e=>{var t;i.position=0,r.innerHTML="",(!e[0]||0<e[1].length)&&((t=document.createElement("div")).classList.add("terminal-output"),t.innerHTML=e[1],a.appendChild(t)),o.scrollTop=o.scrollHeight})}),o=document.querySelector("#terminal-main"),r=document.querySelector("#terminal-main-command"),l=document.querySelector("#terminal-caret"),a=document.querySelector("#terminal-main-history"),i={position:0,historyPosition:0},c=(document.querySelector("#open-t").addEventListener("click",()=>A("open")),document.querySelector("#close-t").addEventListener("click",()=>A("close")),o.addEventListener("focus",()=>{o.scrollTop=o.scrollHeight,l.classList.add("blink")}),o.addEventListener("blur",()=>l.classList.remove("blink")),o.addEventListener("keydown",e=>{var t;e.ctrlKey||e.metaKey||e.altKey||(e.preventDefault(),1==e.key.length&&(i.position+=1,r.innerText=r.innerText.slice(0,i.position-1)+e.key+r.innerText.slice(i.position-1))),"ArrowLeft"==e.key&&(i.position-=0<i.position?1:0),"ArrowRight"==e.key&&(i.position+=i.position<r.innerText.length?1:0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key||(t=l.getBoundingClientRect().width-2*parseFloat(getComputedStyle(l,null).getPropertyValue("border-left-width"))-1e-5,l.style.transform=`translateX(-${(r.innerText.length-i.position)*t}px)`),"ArrowUp"!=e.key&&"ArrowDown"!=e.key||(t=c.getHistory(),i.historyPosition+="ArrowUp"==e.key?i.historyPosition>=t.length?0:1:i.historyPosition<=0?0:-1,t=t[t.length-i.historyPosition],r.innerText=t||"",i.position=r.innerText.length),"v"==e.key&&(e.ctrlKey||e.metaKey)&&navigator.clipboard.readText().then(e=>{r.innerText=r.innerText.slice(0,i.position-1)+e+r.innerText.slice(i.position-1),i.position+=e.length}),"Backspace"!=e.key&&"Delete"!=e.key||(r.innerText=r.innerText.slice(0,i.position-1)+r.innerText.slice(i.position),i.position-=0==i.position?0:1),"Enter"!=e.key&&"Return"!=e.key&&"NumpadEnter"!=e.key||n()}),document.querySelectorAll(".terminal-option").forEach(o=>{o.addEventListener("click",()=>{return e=o.getAttribute("data-option"),t={add:["window add 1",1],remove:["window remove 1",1],exit:["exit",1],clear:["cls",1],help:["help",1],reset:["config reset",1],import:["config set <span class='token comment'>JSON</span>",0],export:["config get",1]},r.innerHTML=t[e][0],i.position=r.innerText.length,void(t[e][1]&&n());var e,t})}),["mousedown","touchstart"].forEach(e=>{document.querySelector("#scroll-height.terminal").addEventListener(e,e=>k(e,"y")),document.querySelector("#scroll-width.terminal-opt").addEventListener(e,e=>k(e,"x"))}),new Terminal({terminal:{main:o,input:r,output:a,caret:l,toggleFnc:A,config:i},window:{add:b,remove:f,config:m,getLang:h},theme:{list:ThemeArr,set:e},root:u}));if("execute"in u._get&&"true"==u._get.execute){document.querySelector(".modal-text").innerHTML="The auto-execute is <b>enabled</b>. This action could be dangerous.<br><br>Do you want to execute it?",document.querySelector(".container-modal .code").innerHTML="",document.querySelector(".container-modal .code").appendChild(m.codeWindow[0].parentElement.cloneNode(!0)),document.querySelector(".container-modal").classList.add("show");let t=()=>{A("open"),n("run 0")};document.getElementById("confirm-modal").onclick=t,window.onkeydown=e=>{"Enter"!=e.key&&13!=e.keyCode&&"Enter"!=e.code&&13!=e.which||(t(),document.querySelector(".container-modal").classList.remove("show"),window.onkeydown=null)}}},n=()=>{if(localStorage.getItem("theme")&&document.body.classList.add(localStorage.getItem("theme")),localStorage.getItem("customTheme")){var e,t=JSON.parse(localStorage.getItem("customTheme"));for(e in t)document.body.style.setProperty(e,t[e])}var o,n;localStorage.getItem("terminalHeight")&&(n=parseFloat(localStorage.getItem("terminalHeight")),o=.8*window.innerHeight,.2*window.innerHeight<n)&&n<o&&(document.documentElement||document.querySelector(":root")).style.setProperty("--termSize",n+"px"),localStorage.getItem("terminalOptWidth")&&(o=parseFloat(localStorage.getItem("terminalOptWidth")),n=.5*window.innerWidth,.1*window.innerWidth<o)&&o<n&&(document.documentElement||document.querySelector(":root")).style.setProperty("--termOption",o+"px"),localStorage.getItem(u.localStorage.projectList)&&(s=JSON.parse(localStorage.getItem(u.localStorage.projectList)),Object.keys(s).forEach(function(e){var t,o,n,r;t=e,o=s[e],e=document.createElement("div"),(n=document.createElement("a")).innerText=t,n.classList.add("name"),n.onclick=()=>{localStorage.setItem(u.localStorage.fileMemory,o),document.location=document.location},(r=document.createElement("a")).onclick=e=>{e.target.parentElement.remove(),delete s[t],localStorage.setItem(u.localStorage.projectList,JSON.stringify(s)),p(`Project "${t}"deleted`)},r.innerText="[delete]",e.append(n),e.append(r),document.querySelector("#library .window .list").append(e)})),"true"==localStorage.getItem("terminal")&&A("open"),localStorage.getItem("fontSize")&&5<=(n=parseFloat(localStorage.getItem("fontSize")))&&n<=35&&(document.documentElement||document.querySelector(":root")).style.setProperty("--font-size",n+"px")};(fn=async()=>{var e=()=>{(t??"").split("&").forEach(e=>{e=e.split("=");u._get[e[0]]=e[1]}),o(),n()};let t;if([u.base64,t]=location.hash.substring(1).split("?"),0==u.base64.length||"undefined"==u.base64||!("fetch"in window)){if(!localStorage.getItem(u.localStorage.fileMemory))return void e();u.base64=localStorage.getItem(u.localStorage.fileMemory)}(async(e,n)=>{e=await(await fetch("data:application/octet-stream;base64,"+e)).blob();let t=new FileReader;t.onload=function(){var e=Array.from(new Uint8Array(t.result));l.decompress(e,function(e,t){t&&alert("Failed to decompress data: "+t);try{var o=JSON.parse(e);"object"==typeof o&&o.forEach((e,t)=>{b(),m.windows[t].value=e,w(m.windows[t])})}catch(t){alert("Failed to writing data: "+t)}n()})},t.readAsArrayBuffer(e)})(u.base64,e)})()});